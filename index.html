<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
</head>

<body>
  <div id = "header"></div>
  
  <a href="/index.html"><img src="/images/logga.png" width= "150" alt="Spexloggan"></a>
  <h1><a href="/index.html"> Krischanstaspääxets<br>Sajber-Bajbel</a></h1>
  
  <button class="random">Räändom</button>
  <br>
  <a href="/spex/favourites.html" class="button"><i>Favoriter</i></a>
  <br>
  <a href="/spex/hc_andersen.html" class="button">H.C. Andersen 2024 (HCA)</a>
  <br>
  <a href="/spex/kristina.html" class="button">Kristina 2023/24 (KRI)</a>
  <br>
  <a href="/spex/kraftor.html" class="button">Kräftor Kräva Dessa Drycker! 2023 (KRÄ)</a>
  <br>
  <a href="/spex/hilma.html" class="button">Hilma af Klint 2022/23 (HIL)</a>
  <br>
  <a href="/spex/loshultskuppen.html" class="button">Loshultskuppen 2022 (LOS)</a>
  <br>
  <a href="/spex/sketchostrof.html" class="button">Sketchostrof 2022 (ROF)</a>
  <br>
  <a href="/spex/erik_xiv.html" class="button">Erik XIV 2021 (E14)</a>
  <br>
  <a href="/spex/lafayette.html" class="button">Lafayette 2019/20 (LAF)</a>
  <br>
  <a href="/spex/eva_ekeblad.html" class="button">Eva Ekeblad 2019 (EVA)</a>
  <br>
  <a href="/spex/leonardo.html" class="button">Leonardo 2018/19 (LEO)</a>
  <br>
  <a href="/spex/synden_i_molle.html" class="button">Synden i Mölle 2018 (SIM)</a>
  <br>
  <a href="/spex/sketchofori.html" class="button">Sketchofori 2018 (SKO)</a>
  <br>
  <a href="/spex/katarina.html" class="button">Katarina den stora 2017 (KAT)</a>
  <br>
  <a href="/spex/hindenburg.html" class="button">Hindenburg 2017 (HIN)</a>
  <br>
  <a href="/spex/kleopatra.html" class="button">Kleopatra 2016 (KLE)</a>
  <br>
  <a href="/spex/lewinsky.html" class="button">Lewinsky 2016 (LEW)</a>
  <br>
  <a href="/spex/stalin.html" class="button">Stalin 2015/16 (STA)</a>
  <br>
  <a href="/spex/taget_over_balt.html" class="button">Tåget över bält 2015 (TÖB)</a>
  <br>
  <a href="/spex/karthago.html" class="button">Karthago 2014/15 (PUN)</a>
  <br>
  <a href="/spex/den_lagsta_punkten.html" class="button">Den lägsta punkten 2014 (HÅL)</a>
  <br>
  <a href="/spex/sketchetera.html" class="button">Sketchetera 2014 (ETC)</a>
  <br>
  <a href="/spex/rosetta.html" class="button">Rosettastenen 2013 (O)</a>
  <br>
  <a href="/spex/kubakrisen.html" class="button">Kubakrisen 2013 (KUK)</a>
  <br>
  <a href="/spex/franz_ferdinand.html" class="button">Franz Ferdinand 2012/13 (FRA)</a>
  <br>
  <a href="/spex/jerusalem.html" class="button">Jerusalem 2012 (JER)</a>
  <br>
  <a href="/spex/martell.html" class="button">Karl Martell 2011/12 (KAR)</a>
  <br>
  <a href="/spex/per_albin.html" class="button">Per Albin Hansson 2011 (PAH)</a>
  <br>
  <a href="/spex/caesar.html" class="button">Caesar 2010 (CAE)</a>
  <br>
  <a href="/spex/sketchistens.html" class="button">Sketchistens 2010 (FEL)</a>
  <br>
  <a href="/spex/darwin.html" class="button">Darwin 2009 (DAR) - ej klar</a>
  <br>
  <a href="/spex/tjogun.html" class="button">Tjogun 2009 (TJO)</a>
  <br>
  <a href="/spex/stalin.html#stalin_2008_09" class="button">Stalin 2008/09 (STA)</a>
  <br>
  <a href="/spex/kubakrisen.html#kubakrisen_2008" class="button">Kubakrisen 2008 (KUK)</a>
  <br>
  <a href="/spex/nobel.html" class="button">Nobel 2007/08 (NOB) - ej klar</a>
  <br>
  <a href="/spex/os_feber.html" class="button">OS-feber i Kristianstad 2007 (OSF)</a>
  <br>
  <a href="/spex/leonardo.html#leonardo_2006_07" class="button">Leonardo 2006/07 (LEO)</a>
  <br>
  <a href="/spex/maria_eleonora.html" class="button">Maria Eleonora 2006 (MAR) - ej klar</a>
  <br>
  <a href="/spex/sketchofreni.html" class="button">Sketchofreni 2006 (SEV)</a>
  <br>
  <a href="/spex/linne.html" class="button">Carl von Linné 2005 (CvL) - ej klar</a>
  <br>
  <a href="/spex/darwin.html#darwin_2005" class="button">Darwin 2005 (DAR) - ej klar</a>
  <br>
  <a href="/spex/erik_xiv.html" class="button">Erik XIV 2004/05 (E14) - ej klar</a>
  <br>
  <a href="/spex/finland.html" class="button">Finlands Bryggeri 2004 (FIN) - ej klar</a>
  <br>
  <a href="/spex/kubakrisen.html#kubakrisen_2003_04" class="button">Kubakrisen 2003/04 (KUK)</a>
  <br>
  <a href="/spex/carl_xi.html" class="button">Carl XI 2003 (CXI)</a>
  <br>
  <a href="/spex/sketchup.html" class="button">Sketchup 2003 (SKE)</a>
  <br>
  <a href="/spex/tjogun.html#tjogun_2002_03" class="button">Tjogun 2002/03 (TJO)</a>
  <br>
  <a href="/spex/kristina.html#kristina_2001" class="button"> Kristina 2001 (KRI)</a>
  <br>      
  <a href="/spex/mot_strommen.html" class="button">Mot Strömmen 2000/01 (MOT) - ej klar</a>
  <br>
  <a href="/spex/nosaby.html" class="button">Nosaby 2000 (NOS) - ej klar</a>
  <br>
  <a href="/spex/kejsaren.html" class="button">Kejsaren av Kina 1999/2000 (KEJ)</a>
  <br>
  <a href="/spex/gustav_iii.html" class="button">Gustav III 1999 (GUS)</a>
  <br>
  <a href="/spex/leonardo.html#leonardo_1998_99" class="button">Leonardo 1998/99 (LEO)</a>
  <br>
  <a href="/spex/hjalmar.html" class="button">Hjalmar Söderberg 1998 (HJA)</a>
  <br>
  <a href="/spex/nisse.html" class="button">Lille Nisses stora klocka 1998 (NIS)</a>
  <br>
  <a href="/spex/martell.html#martell_1997" class="button">Karl Martell 1997 (KAR)</a>
  <br>
  <a href="/spex/eiffel.html" class="button">Eiffel 1997 (EIF)</a>
  <br>
  <a href="/spex/florence.html" class="button">Florence 1996/97 (FLO) - ej klar</a>
  <br>
  <a href="/spex/linne.html#linne_1996" class="button">Carl von Linné 1996 (CvL) - ej klar</a>
  <br>
  <a href="/spex/erik_xiv.html" class="button">Erik XIV 1995/96 (E14) - ej klar</a>
  <br>
  <a href="/spex/charles_magnusson.html" class="button">Charles Magnusson 1995 (CHA)</a>
  <br>
  <a href="/spex/stalin.html#stalin_1994_95" class="button">Stalin 1994/95 (STA)</a>
  <br>
  <a href="/spex/sannladan.html" class="button">Sannlådan 1994 (SAN)</a>
  <br>
  <a href="/spex/leonardo.html" class="button">Leonardo 1993/94 (LEO)</a>
  <br>
  <a href="/spex/pullinutt.html" class="button">Prinsessan Pullinutt 1993/94 (PUL)</a>
  <br>
  <a href="/spex/tjogun.html#tjogun_1992_93" class="button">Tjogun 1992/93 (TJO)</a>
  <br>
  <a href="/spex/sokrates.html" class="button">Sokrates 1991/92 (SOK) - ej klar</a>
  <br>
  <a href="/spex/mtv.html" class="button">MTV 1990 (MTV)</a>
  <br>
  <a href="/spex/christian_iv.html#christian_iv_1992" class="button">Christian IV 1992 (CIV)</a>
  <br>
  <a href="/spex/christian_iv.html#christian_iv_1990_91" class="button">Christian IV 1990/91 (CIV)</a>
  <br>
  <a href="/spex/lincoln.html" class="button">Lincoln 1990 (LIN) - ej klar</a>
  <br>
  <a href="/spex/krook.html" class="button">Kapten Krook 1989 (KRO) - ej klar</a>
  <br>
  <a href="/spex/stalin.html#stalin_1988_89" class="button">Stalin 1988/89 (STA)</a>
  <br>
  <a href="/spex/tjogun.html#tjogun_1987" class="button">Tjogun 1987 (TJO)</a>
  <br>
  <a href="/spex/gyttjeblottning.html" class="button">Gyttjeblottning 1986 (GYT)</a>
  <br>
  <a href="/spex/lincoln.html#lincoln_1985_86" class="button">Lincoln 1985/86 (LIN) - ej klar</a>
  <br>
  <a href="/spex/general.html" class="button"><i>Allmänna</i> (ALL)</a>
</body>

<script>
  //SÖK
  // Load header.html into the div with id="header"
  fetch('header.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('header').innerHTML = data;

      document.getElementById('search-form').addEventListener('submit', function(event) {
          event.preventDefault(); // Tar bort reload
          console.log("Form submitted!");

          const searchTerm = document.getElementById('search-input').value.trim().toLowerCase();
          console.log("Search term:", searchTerm);

          if (!searchTerm) {
              alert("Please enter a search term.");
              return;
          }

          // Attempt to load songIndex.json
          fetch('/songIndex.json')
              .then(response => {
                  if (!response.ok) {
                      throw new Error("Network response was not ok " + response.statusText);
                  }
                  return response.json();
              })
              .then(data => {
                  // Search for the song title in the JSON data
                  const match = data.find(song => song.title.toLowerCase().includes(searchTerm));

                  if (match) {
                      // Redirect to the page with the search term in the URL
                      window.location.href = `${match.page}?search=${encodeURIComponent(searchTerm)}`;
                  } else {
                      alert("No matching song found.");
                  }
              })
              .catch(error => {
                  console.error('Error fetching song index:', error);
                  alert("Could not load the song index file.");
              });
      });
    })
    .catch(error => console.error('Error loading header.html:', error));


    //Random
    document.addEventListener("DOMContentLoaded", function() {
      document.querySelector('.random').addEventListener("click", () => {
        fetch('/songIndex.json')
          .then(response => {
            if (!response.ok) {
              throw new Error("Network response was not ok " + response.statusText);
            }
            return response.json();
          })
          .then(data => {
            //random song
            const randomSong = data[Math.floor(Math.random()*data.length)];

            window.location.href = `${randomSong.page}?search=${encodeURIComponent(randomSong.title)}`;
          })
          .catch(error => {
            console.error('Error fetching song index:', error);
            alert("Could not load the song index file.");
          });
      });
    });

    //Settings
    function openSettings() {
      let optionsDiv = document.getElementById("settings-options");
      optionsDiv.classList.toggle("show");
      optionsDiv.classList.toggle("hide");
    }

    function toggleReadingMode() {
      console.log(document.cookie)
      if (document.cookie.includes("readingMode=true")) {
        document.cookie = "readingMode=false";
        removeReadingMode();
      } else {
        document.cookie = "readingMode=true";
        addReadingMode();
      }
    }

    function addReadingMode(){
      let buttons = document.getElementsByClassName("button");
      buttons = Array.from(buttons);
      buttons.forEach(button => {
        button.classList.add("reading-mode");
      });
    }

    function removeReadingMode(){
      let buttons = document.getElementsByClassName("button");
      buttons = Array.from(buttons);
      buttons.forEach(button => {
        button.classList.remove("reading-mode");
      });
    }

    document.addEventListener("DOMContentLoaded", function() {
      if (document.cookie.includes("readingMode=true")) {
        console.log("Reading mode is on");
        addReadingMode();
      }
    });
    
    </script>
</body>

    <!-- Footer -->
    <body>
      <footer>
        <b>Krischanstaspääxet 2024</b><br>
        Skapad av Joel Takahashi Olsson, Jacob Annefors och Johan Furuhjelm<br>
        <a href= "https://github.com/Bajbeln/Bajbeln.github.io"> <b>Källkod</b></a>
      </footer>
    </body>
    </html>